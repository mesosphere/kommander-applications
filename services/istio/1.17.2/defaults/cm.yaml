apiVersion: v1
kind: ConfigMap
metadata:
  name: istio-1.17.2-d2iq-defaults
  namespace: ${releaseNamespace}
data:
  values.yaml: |
    istioOperator:
      components:
        ingressGateways:
        - enabled: true
          k8s:
            hpaSpec:
              minReplicas: 2
            priorityClassName: "dkp-critical-priority"
          name: istio-ingressgateway
        pilot:
          k8s:
            hpaSpec:
              minReplicas: 2
            priorityClassName: "dkp-critical-priority"
        cni:
          k8s:
            priorityClassName: "dkp-critical-priority"
    security:
      issuerName: ${caIssuerName}
    prometheus-operator:
      serviceMonitor:
        labels:
          prometheus.kommander.d2iq.io/select: "true"
    global:
      image: bitnami/kubectl
      tag: 1.24.6
      priorityClassName: "dkp-critical-priority"
